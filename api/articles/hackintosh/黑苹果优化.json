{"title":"黑苹果优化","uid":"bc1fb47b9cf98affb24c2221bfc0ad99","slug":"hackintosh/黑苹果优化","date":"2021-08-30T21:35:55.000Z","updated":"2024-11-16T08:01:11.348Z","comments":true,"path":"api/articles/hackintosh/黑苹果优化.json","keywords":null,"cover":null,"content":"<h2 id=\"黑果优化\"><a href=\"#黑果优化\" class=\"headerlink\" title=\"黑果优化\"></a>黑果优化</h2><ol>\n<li>命令调试检查</li>\n</ol>\n<figure class=\"highlight crystal\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs crystal\"><span class=\"hljs-comment\"># 检查 XCPM 是否正常加载，返回 1为正常</span><br><span class=\"hljs-variable\">$ </span>sysctl machdep.xcpm.mode<br><span class=\"hljs-comment\"># 验证 X86PlatformPlugin.kext 是否已经加载</span><br><span class=\"hljs-variable\">$ </span>kextstat|grep -y x86plat<br><span class=\"hljs-comment\"># 验证 Apple Intel CPU 电源管理，返回为空表示正常</span><br><span class=\"hljs-variable\">$ </span>kextstat|grep -y appleintelcpu<br><span class=\"hljs-comment\"># 验证是否加载变频，返回 1 为正常</span><br><span class=\"hljs-variable\">$ </span>sysctl -n machdep.xcpm.vectors_loaded_count<br></code></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>Mac 升级后配置上的小红点去掉方法</li>\n</ol>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs powershell\"><span class=\"hljs-comment\"># 在终端执行下面命令：</span><br><span class=\"hljs-variable\">$</span> defaults <span class=\"hljs-built_in\">write</span> com.apple.systempreferences AttentionPrefBundleIDs <span class=\"hljs-number\">0</span><br><span class=\"hljs-variable\">$</span> killall Dock<br></code></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>禁止系统更新提示代码命令</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"hljs-built_in\">sudo</span> softwareupdate --ignore “macOS Catalina”</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">放弃更改，使用下面进行重置</span><br><span class=\"hljs-meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"hljs-built_in\">sudo</span> softwareupdate --reset-ignored</span><br></code></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>安装任何来源软件</li>\n</ol>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs routeros\">$ sudo spctl --master-<span class=\"hljs-built_in\">disable</span><br><span class=\"hljs-comment\"># 可选：关闭sip，即System Integrity Protection系统完整保护，将一些文件目录和系统应用保护了起来</span><br>$ csrutil <span class=\"hljs-built_in\">disable</span><br><span class=\"hljs-comment\"># 查看关闭状态</span><br>csrutil status<br></code></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li>本 Mac 和 Win 系统的时间不同步问题及解决方法：</li>\n</ol>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs dockerfile\"><span class=\"hljs-comment\"># win系统里，请在管理员cmd运行命令如下：</span><br>Reg <span class=\"hljs-keyword\">add</span><span class=\"language-bash\"> HKLM\\SYSTEM\\CurrentControlSet\\Control\\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1</span><br></code></pre></td></tr></table></figure>\n\n<ol start=\"6\">\n<li>安装 Mac os 后“其他宗卷”占用大量空间，这个问题通常是 Mac 的“safe sleep”功能开启导致的，关闭方法如下：</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">在终端中输入下面的命令</span><br><span class=\"hljs-meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"hljs-built_in\">sudo</span> pmset -a hibernatemode 0</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">然后定位到/private/var/vm/删除已经存在的sleepimage文件</span><br></code></pre></td></tr></table></figure>\n\n<ol start=\"7\">\n<li>升级 10.15 后，开启 hidpi 用之前的脚本方式无法开启，新系统 system&#x2F;library 变成了只读，脚本文件无法写入，解锁方式：</li>\n</ol>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs powershell\"><span class=\"hljs-variable\">$</span> sudo <span class=\"hljs-built_in\">mount</span> <span class=\"hljs-literal\">-uw</span> /<br><span class=\"hljs-variable\">$</span> killall Finder<br></code></pre></td></tr></table></figure>\n\n<ol start=\"8\">\n<li>Kext Utility 了解，由于 macOS 10.15 锁住了 S&#x2F;L&#x2F;E 的修改权限，因此在修改 kext 前要使用终端先解锁 System&#x2F;Library&#x2F;Extensions 权限</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 打开终端依次输入</span><br>$ <span class=\"hljs-built_in\">sudo</span> su<br>$ <span class=\"hljs-built_in\">sudo</span> mount -uw /<br>$ killall Finder<br><span class=\"hljs-comment\"># 重建缓存</span><br><span class=\"hljs-built_in\">sudo</span> <span class=\"hljs-built_in\">touch</span> /System/Library/Extensions &amp;&amp; <span class=\"hljs-built_in\">sudo</span> kextcache -u<br></code></pre></td></tr></table></figure>\n","text":"黑果优化 命令调试检查 12345678# 检查 XCPM 是否正常加载，返回 1为正常$ sysctl machdep.xcpm.mode# 验证 X86Pl...","permalink":"/post/hackintosh/黑苹果优化","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"hackintosh","slug":"hackintosh","count":1,"path":"api/categories/hackintosh.json"}],"tags":[{"name":"hackintosh","slug":"hackintosh","count":1,"path":"api/tags/hackintosh.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%BB%91%E6%9E%9C%E4%BC%98%E5%8C%96\"><span class=\"toc-text\">黑果优化</span></a></li></ol>","author":{"name":"Gao","slug":"blog-author","avatar":"/img/favicon.ico","link":"/","description":"一些收集总结","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"强转溢出与浮点数运算","uid":"9f2df5d79e53f31f7ef018d56fc68fb5","slug":"强转溢出与浮点数运算","date":"2021-10-08T17:04:46.000Z","updated":"2024-11-16T08:01:11.356Z","comments":true,"path":"api/articles/强转溢出与浮点数运算.json","keywords":null,"cover":[],"text":"java 中的数据类型转换.在 java 中，存在两种转换的机制，默认类型转换（隐式转换）和强制类型转换。默认类型转换的规则如下： byte，short，cha...","permalink":"/post/强转溢出与浮点数运算","photos":[],"count_time":{"symbolsCount":"5k","symbolsTime":"5 mins."},"categories":[{"name":"Java","slug":"Java","count":2,"path":"api/categories/Java.json"}],"tags":[{"name":"Java","slug":"Java","count":1,"path":"api/tags/Java.json"}],"author":{"name":"Gao","slug":"blog-author","avatar":"/img/favicon.ico","link":"/","description":"一些收集总结","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"HTML元素间距问题","uid":"05c02e8953cff3fb4287b628204907a3","slug":"html/HTML元素间距问题","date":"2021-08-10T18:49:46.000Z","updated":"2024-11-16T08:01:11.348Z","comments":true,"path":"api/articles/html/HTML元素间距问题.json","keywords":null,"cover":null,"text":"HTML 元素间距问题在利用 CSS 布局时，经常会遇到一些没有定义间距 padding、margin 之类的内容，但是页面上却总会有一些不知从何而来的间距出现...","permalink":"/post/html/HTML元素间距问题","photos":[],"count_time":{"symbolsCount":895,"symbolsTime":"1 mins."},"categories":[{"name":"问题归纳","slug":"问题归纳","count":1,"path":"api/categories/问题归纳.json"}],"tags":[{"name":"html","slug":"html","count":1,"path":"api/tags/html.json"}],"author":{"name":"Gao","slug":"blog-author","avatar":"/img/favicon.ico","link":"/","description":"一些收集总结","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}